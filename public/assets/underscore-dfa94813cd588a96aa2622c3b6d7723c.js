//     Underscore.js 1.3.1
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore
((function(){function y(a,b,c){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&u.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&u.isFunction(b.isEqual))return b.isEqual(a);var d=toString.call(a);if(d!=toString.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;var e=c.length;while(e--)if(c[e]==a)return!0;c.push(a);var f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&y(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(var h in a)if(u.has(a,h)){f++;if(!(g=u.has(b,h)&&y(a[h],b[h],c)))break}if(g){for(h in b)if(u.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.slice,h=d.unshift,toString=e.toString,hasOwnProperty=e.hasOwnProperty,i=d.forEach,j=d.map,k=d.reduce,l=d.reduceRight,m=d.filter,n=d.every,o=d.some,p=d.indexOf,q=d.lastIndexOf,r=Array.isArray,s=Object.keys,t=f.bind,u=function(a){return new C(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=u),exports._=u):a._=u,u.VERSION="1.3.1";var v=u.each=u.forEach=function(a,b,d){if(a==null)return;if(i&&a.forEach===i)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;e<f;e++)if(e in a&&b.call(d,a[e],e,a)===c)return}else for(var g in a)if(u.has(a,g)&&b.call(d,a[g],g,a)===c)return};u.map=u.collect=function(a,b,c){var d=[];return a==null?d:j&&a.map===j?a.map(b,c):(v(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},u.reduce=u.foldl=u.inject=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(k&&a.reduce===k)return d&&(b=u.bind(b,d)),e?a.reduce(b,c):a.reduce(b);v(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c},u.reduceRight=u.foldr=function(a,b,c,d){var e=arguments.length>2;a==null&&(a=[]);if(l&&a.reduceRight===l)return d&&(b=u.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=u.toArray(a).reverse();return d&&!e&&(b=u.bind(b,d)),e?u.reduce(f,b,c,d):u.reduce(f,b)},u.find=u.detect=function(a,b,c){var d;return w(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0}),d},u.filter=u.select=function(a,b,c){var d=[];return a==null?d:m&&a.filter===m?a.filter(b,c):(v(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},u.reject=function(a,b,c){var d=[];return a==null?d:(v(a,function(a,e,f){b.call(c,a,e,f)||(d[d.length]=a)}),d)},u.every=u.all=function(a,b,d){var e=!0;return a==null?e:n&&a.every===n?a.every(b,d):(v(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c}),e)};var w=u.some=u.any=function(a,b,d){b||(b=u.identity);var e=!1;return a==null?e:o&&a.some===o?a.some(b,d):(v(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c}),!!e)};u.include=u.contains=function(a,b){var c=!1;return a==null?c:p&&a.indexOf===p?a.indexOf(b)!=-1:(c=w(a,function(a){return a===b}),c)},u.invoke=function(a,b){var c=g.call(arguments,2);return u.map(a,function(a){return(u.isFunction(b)?b||a:a[b]).apply(a,c)})},u.pluck=function(a,b){return u.map(a,function(a){return a[b]})},u.max=function(a,b,c){if(!b&&u.isArray(a))return Math.max.apply(Math,a);if(!b&&u.isEmpty(a))return-Infinity;var d={computed:-Infinity};return v(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},u.min=function(a,b,c){if(!b&&u.isArray(a))return Math.min.apply(Math,a);if(!b&&u.isEmpty(a))return Infinity;var d={computed:Infinity};return v(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},u.shuffle=function(a){var b=[],c;return v(a,function(a,d,e){d==0?b[0]=a:(c=Math.floor(Math.random()*(d+1)),b[d]=b[c],b[c]=a)}),b},u.sortBy=function(a,b,c){return u.pluck(u.map(a,function(a,d,e){return{value:a,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")},u.groupBy=function(a,b){var c={},d=u.isFunction(b)?b:function(a){return a[b]};return v(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},u.sortedIndex=function(a,b,c){c||(c=u.identity);var d=0,e=a.length;while(d<e){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},u.toArray=function(a){return a?a.toArray?a.toArray():u.isArray(a)?g.call(a):u.isArguments(a)?g.call(a):u.values(a):[]},u.size=function(a){return u.toArray(a).length},u.first=u.head=function(a,b,c){return b!=null&&!c?g.call(a,0,b):a[0]},u.initial=function(a,b,c){return g.call(a,0,a.length-(b==null||c?1:b))},u.last=function(a,b,c){return b!=null&&!c?g.call(a,Math.max(a.length-b,0)):a[a.length-1]},u.rest=u.tail=function(a,b,c){return g.call(a,b==null||c?1:b)},u.compact=function(a){return u.filter(a,function(a){return!!a})},u.flatten=function(a,b){return u.reduce(a,function(a,c){return u.isArray(c)?a.concat(b?c:u.flatten(c)):(a[a.length]=c,a)},[])},u.without=function(a){return u.difference(a,g.call(arguments,1))},u.uniq=u.unique=function(a,b,c){var d=c?u.map(a,c):a,e=[];return u.reduce(d,function(c,d,f){if(0==f||(b===!0?u.last(c)!=d:!u.include(c,d)))c[c.length]=d,e[e.length]=a[f];return c},[]),e},u.union=function(){return u.uniq(u.flatten(arguments,!0))},u.intersection=u.intersect=function(a){var b=g.call(arguments,1);return u.filter(u.uniq(a),function(a){return u.every(b,function(b){return u.indexOf(b,a)>=0})})},u.difference=function(a){var b=u.flatten(g.call(arguments,1));return u.filter(a,function(a){return!u.include(b,a)})},u.zip=function(){var a=g.call(arguments),b=u.max(u.pluck(a,"length")),c=new Array(b);for(var d=0;d<b;d++)c[d]=u.pluck(a,""+d);return c},u.indexOf=function(a,b,c){if(a==null)return-1;var d,e;if(c)return d=u.sortedIndex(a,b),a[d]===b?d:-1;if(p&&a.indexOf===p)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},u.lastIndexOf=function(a,b){if(a==null)return-1;if(q&&a.lastIndexOf===q)return a.lastIndexOf(b);var c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},u.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f};var x=function(){};u.bind=function(b,c){var d,e;if(b.bind===t&&t)return t.apply(b,g.call(arguments,1));if(!u.isFunction(b))throw new TypeError;return e=g.call(arguments,2),d=function(){if(this instanceof d){x.prototype=b.prototype;var a=new x,f=b.apply(a,e.concat(g.call(arguments)));return Object(f)===f?f:a}return b.apply(c,e.concat(g.call(arguments)))}},u.bindAll=function(a){var b=g.call(arguments,1);return b.length==0&&(b=u.functions(a)),v(b,function(b){a[b]=u.bind(a[b],a)}),a},u.memoize=function(a,b){var c={};return b||(b=u.identity),function(){var d=b.apply(this,arguments);return u.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},u.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(a,c)},b)},u.defer=function(a){return u.delay.apply(u,[a,1].concat(g.call(arguments,1)))},u.throttle=function(a,b){var c,d,e,f,g,h=u.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var i=function(){e=null,g&&a.apply(c,d),h()};e||(e=setTimeout(i,b)),f?g=!0:a.apply(c,d),h(),f=!0}},u.debounce=function(a,b){var c;return function(){var d=this,e=arguments,f=function(){c=null,a.apply(d,e)};clearTimeout(c),c=setTimeout(f,b)}},u.once=function(a){var b=!1,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments))}},u.wrap=function(a,b){return function(){var c=[a].concat(g.call(arguments,0));return b.apply(this,c)}},u.compose=function(){var a=arguments;return function(){var b=arguments;for(var c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},u.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},u.keys=s||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)u.has(a,c)&&(b[b.length]=c);return b},u.values=function(a){return u.map(a,u.identity)},u.functions=u.methods=function(a){var b=[];for(var c in a)u.isFunction(a[c])&&b.push(c);return b.sort()},u.extend=function(a){return v(g.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},u.defaults=function(a){return v(g.call(arguments,1),function(b){for(var c in b)a[c]==null&&(a[c]=b[c])}),a},u.clone=function(a){return u.isObject(a)?u.isArray(a)?a.slice():u.extend({},a):a},u.tap=function(a,b){return b(a),a},u.isEqual=function(a,b){return y(a,b,[])},u.isEmpty=function(a){if(u.isArray(a)||u.isString(a))return a.length===0;for(var b in a)if(u.has(a,b))return!1;return!0},u.isElement=function(a){return!!a&&a.nodeType==1},u.isArray=r||function(a){return toString.call(a)=="[object Array]"},u.isObject=function(a){return a===Object(a)},u.isArguments=function(a){return toString.call(a)=="[object Arguments]"},u.isArguments(arguments)||(u.isArguments=function(a){return!!a&&!!u.has(a,"callee")}),u.isFunction=function(a){return toString.call(a)=="[object Function]"},u.isString=function(a){return toString.call(a)=="[object String]"},u.isNumber=function(a){return toString.call(a)=="[object Number]"},u.isNaN=function(a){return a!==a},u.isBoolean=function(a){return a===!0||a===!1||toString.call(a)=="[object Boolean]"},u.isDate=function(a){return toString.call(a)=="[object Date]"},u.isRegExp=function(a){return toString.call(a)=="[object RegExp]"},u.isNull=function(a){return a===null},u.isUndefined=function(a){return a===void 0},u.has=function(a,b){return hasOwnProperty.call(a,b)},u.noConflict=function(){return a._=b,this},u.identity=function(a){return a},u.times=function(a,b,c){for(var d=0;d<a;d++)b.call(c,d)},u.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},u.mixin=function(a){v(u.functions(a),function(b){E(b,u[b]=a[b])})};var z=0;u.uniqueId=function(a){var b=z++;return a?a+b:b},u.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/.^/,B=function(a){return a.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};u.template=function(a,b){var c=u.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(c.escape||A,function(a,b){return"',_.escape("+B(b)+"),'"}).replace(c.interpolate||A,function(a,b){return"',"+B(b)+",'"}).replace(c.evaluate||A,function(a,b){return"');"+B(b).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("obj","_",d);return b?e(b,u):function(a){return e.call(this,a,u)}},u.chain=function(a){return u(a).chain()};var C=function(a){this._wrapped=a};u.prototype=C.prototype;var D=function(a,b){return b?u(a).chain():a},E=function(a,b){C.prototype[a]=function(){var a=g.call(arguments);return h.call(a,this._wrapped),D(b.apply(u,a),this._chain)}};u.mixin(u),v(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];C.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return(a=="shift"||a=="splice")&&d===0&&delete c[0],D(c,this._chain)}}),v(["concat","join","slice"],function(a){var b=d[a];C.prototype[a]=function(){return D(b.apply(this._wrapped,arguments),this._chain)}}),C.prototype.chain=function(){return this._chain=!0,this},C.prototype.value=function(){return this._wrapped}})).call(this)